        foreach (var plan in unzipped)
        {
            var planPurch = plan.ToArray();
            try
            {
                var newPlanPurch = planPurch.DeserializeXmlBytesTo<PlanPurch>("pp");
                plans.Add(newPlanPurch);
                continue;
            }
            catch (Exception ex)
            {
                log($"нет pp заголовка");
            }

            try
            {
                var ppj = planPurch.DeserializeXmlBytesTo<ProjectPlanPurch>("ppj");
                var mappedppj = ppj.ToPlanPurch();
                log($"Преобразованный ______:");

                plans.Add(mappedppj);
            }
            catch (Exception ex)
            {
                log($"{ex}");
                log($"ни pp ни ppj");
            }
        }

предусловие - документ во внешней системе получил статус удовлетворительно, получен ответ в виде массива данных
постусловие - во внутреннем контуре обновлены все связанные документы.

где используется - ответ от внешней системы в виде xml с архивированным списком xml 
как происходит учет стыковка со спец сосед частей кода - учет происходит в адаптации одного класса под другой ради массовой обработки.
___

```cs
.FirstStep<>(PreInitStep)
.NextStep<>(BreakStep<Guid>)
.NextStep<>(InitStep)
```

предусловие - получен сигнал старта бизнес процесса
постусловие - отправлен сигнал для начала ожидания сигнала

где используется - в билдере бизнес процесса
как происходит учет стыковка со спец сосед частей кода -
учитываем архитектуру кафки, отправляем ответный сигнал после получения входящего для того чтобы начали слушать следующий.
___
        if (status == StatusKind.Invalid && currentStatusKind.Equals(StatusKind.Send))
        {
            log();
            return null;
        }
        log();

предусловие - привязанные файлы отправлены и обработаны успешно внешней системой
постусловие - обновить состояние документа во внутреннем контуре при успешной обработки всех документов.

где используется - проверка на состояние документа во внешнем контуре.
как происходит учет стыковка со спец сосед частей кода - мы пропускаем текущую попытку проверки документа при комбинации определенных значений текущего состояния документа и предыдущей.

___
